{% load staticfiles %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no, user-scalable=no">
    <meta name="keywords" content="2017, 대선, 이름점, 별자리, 대통령, 선거, 한국, 대한민국, 문재인, 안희정, 안철수, 이재명, 유승민, 심상정">
    <meta name="description" content="재미로 보는 2017대선. 대한민국을 책임질 대통령 당신은 누구를 고르시겠습니까?">
    <meta name="author" content="kimkkikki & minchoco & haneol">

    <link rel="apple-touch-icon" sizes="180x180" href="{% static 'img/apple-touch-icon.png' %}">
    <link rel="icon" type="image/png" href="{% static 'img/favicon-32x32.png' %}" sizes="32x32">
    <link rel="icon" type="image/png" href="{% static 'img/favicon-16x16.png' %}" sizes="16x16">
    <link rel="manifest" href="{% static 'img/manifest.json' %}">
    <link rel="mask-icon" href="{% static 'img/safari-pinned-tab.svg' %}" color="#5bbad5">
    <meta name="theme-color" content="#ffffff">

    <!-- Twitter -->
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:site" content="@2017daesun" />
    <meta name="twitter:creator" content="@2017daesun" />
    <meta property="og:url" content="http://2017daesun.com" />
    <meta property="og:title" content="2017대선닷컴" />
    <meta property="og:description" content="재미로 보는 2017대선. 대한민국을 책임질 대통령 당신은 누구를 고르시겠습니까?" />
    <meta property="og:image" content="{% static 'img/thumbnail.png' %}" />

    <title>2017 대선닷컴 연구소</title>

    <!-- Font CSS -->
    <link rel="stylesheet" href="{% static 'css/font-awesome.min.css' %}" type="text/css">
    <link rel='stylesheet' href="{% static 'css/nanumbarungothic.css' %}" type='text/css'>

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="{% static 'css/bootstrap.min.css' %}">

    <!-- Library CSS -->
    <link rel="stylesheet" href="{% static 'lib/vis/dist/vis.min.css' %}"/>
    <link rel="stylesheet" href="{% static 'css/waitMe.min.css' %}">
    <link rel="stylesheet" href="{% static 'css/aos.css' %}">
    <link rel="stylesheet" href="{% static 'lib/c3/c3.min.css' %}">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="{% static 'css/main.css' %}">
</head>

<body id="page-top" data-spy="scroll" data-target=".navbar">


    <nav class="navbar fixed-top navbar-toggleable-md navbar-light bg-faded">
        <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbar-collapse" aria-controls="navbar-collapse" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <a class="navbar-brand" href="{% url 'main' %}">2017대선닷컴 연구소</a>

        <div class="collapse navbar-collapse" id="navbar-collapse">
            <ul class="navbar-nav ml-auto">
                <li class="nav-item">
                    <a class="nav-link" href="#rating">여론조사</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#pledge">공약이상형</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#charts">thㅏ랑과 전쟁</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#books">대선책방</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#keyword">오늘은 무슨일이</a>
                </li>
            </ul>
        </div>
    </nav>

    <header>
        <div class="container-fluid">
            <div class="intro-text">
                <div class="intro-lead-in">재미로 보는 대선</div>
                <div class="intro-heading">2017대선닷컴 연구소</div>
                <div class="intro-guide">2017대선닷컴을 만들다가 아니다 싶었던 기능들입니다</div>
            </div>
        </div>
    </header>

    <section id="rating" class="light-bg">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-12 text-center">
                    <h3 id="rating-subtitle" class="section-subheading text-muted">국민들의 지지율</h3>
                    <h2 id="rating-title" class="section-heading">여론조사 모아보기</h2>
                    <!--<div class="btn-group mx-auto" data-toggle="buttons">-->
                        <!--<label class="btn btn-outline-danger">-->
                            <!--<input type="radio" name="rating-type-radio" autocomplete="off" value="lucky">우주의기운-->
                        <!--</label>-->
                        <!--<label class="btn btn-outline-info active">-->
                            <!--<input type="radio" name="rating-type-radio" autocomplete="off" value="real" checked>여론조사-->
                        <!--</label>-->
                    <!--</div>-->
                </div>
            </div>
            <div id="real-rating">
                <div class="row justify-content-center section-contents">
                    <div id="ratingChart"></div>
                </div>
                <div class="col col-12 text-center">
                    <p id="rating-description">여러 기관의 여론조사 결과를 평균값으로 재구성한 것입니다.<br>출처: <a href="http://www.realmeter.net" target="_blank">리얼미터</a>, <a href="http://www.gallup.co.kr" target="_blank">한국갤럽</a>, <a href="http://www.rnch.co.kr" target="_blank">알앤써치</a></p>
                    <div id="rating-graph-button" class="btn-group mx-auto" data-toggle="buttons">
                        <label class="btn btn-outline-info active">
                            <input type="radio" name="rating-graph-radio" autocomplete="off" value="all" checked>전체
                        </label>
                        <label class="btn btn-outline-success">
                            <input type="radio" name="rating-graph-radio" autocomplete="off" value="realmeter">리얼미터
                        </label>
                        <label class="btn btn-outline-primary">
                            <input type="radio" name="rating-graph-radio" autocomplete="off" value="gallup">한국갤럽
                        </label>
                        <label class="btn btn-outline-warning">
                            <input type="radio" name="rating-graph-radio" autocomplete="off" value="rnsearch">알앤써치
                        </label>
                    </div>
                </div>
            </div>
            <!--<div id="lucky-rating" class="hidden-xs-up">-->
                <!--<div id="rating-lucky-body" class="row justify-content-center section-contents">-->
                <!--</div>-->
                <!--<div class="col col-12 text-center">-->
                    <!--<p>2017대선닷컴의 돌려돌려돌림판, 이름점, 별자리점을 이용한 방문자 결과의 합계로 계산되었습니다.<br>실제 지지율과는 전혀 상관이 없습니다.</p>-->
                    <!--<button id="rating-lucky-button" class="btn btn-danger">우주가 어떻게 후보를 돕는지 보러가기</button>-->
                <!--</div>-->
            <!--</div>-->
        </div>
    </section>

    <section id="pledge">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-12 text-center">
                    <h2 class="section-heading">공약 이상형</h2>
                    <h3 class="section-subheading text-muted">대선공약을 평가하고 자신에게 맞는 후보를 찾으세요</h3>
                </div>
            </div>
            <div class="row justify-content-center section-contents">
                <div class="mx-auto">
                    <button id="pledge-test-start-button" class="btn btn-primary">시작하기</button>
                    <button id="pledge-rank-button" class="btn btn-secondary">랭킹보기</button>
                </div>
            </div>
        </div>
    </section>

    <!-- 공약 이상형 모달 -->
    <div id="pledge-test-modal" class="modal fade" role="dialog">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title text-center">공약 이상형</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div id="pledge-test" class="modal-body">
                    <div class="jumbotron justify-content-center blind-test">
                        <p id="pledge-test-count" class="pull-right"></p>
                        <h4 id="pledge-test-title" class="text-center"></h4>
                        <p id="pledge-test-contents" class="text-center"></p>
                    </div>
                    <div class="row justify-content-center">
                        <div class="mx-auto">
                            <div class="btn-group" role="group" aria-label="공약 이상형 버튼">
                                <button id="pledge-test-button-1" type="button" class="btn btn-success" value="1">좋아요</button>
                                <button id="pledge-test-button-2" type="button" class="btn btn-danger" value="-1">싫어요</button>
                                <button id="pledge-test-button-3" type="button" class="btn btn-secondary" value="0">몰라요</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="pledge-result-modal" class="modal fade" role="dialog">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title text-center">공약 이상형 결과</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div id="pledge-result"></div>
                    <div class="row justify-content-center">
                        <button type="button" class="btn btn-success" data-dismiss="modal" aria-label="Close">다시하기</button>
                        <button type="button" class="btn btn-danger">공유하기</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Pledge Rank Modal -->
    {% include 'pledge_rank_modal.html' %}

    <section id="charts" class="light-bg">
        <div class="container">
            <div class="row">
                <div class="col-12 text-center">
                    <h2 class="section-heading">사랑과 전쟁</h2>
                    <h3 class="section-subheading text-muted">사랑과 전쟁</h3>
                </div>
            </div>
            <div class="row text-center">
                <div id="mynetwork"></div>
            </div>
        </div>
    </section>

    <section id="books">
        <div class="container">
            <div class="row">
                <div class="col-12 text-center">
                    <h2 class="section-heading">대선책방</h2>
                    <h3 class="section-subheading text-muted">대선 주자들의 책들입니다</h3>
                </div>
            </div>
            <div class="row">
                {% for book in book_list %}
                <div class="col-4 col-md-2 thumb">
                    <a class="thumbnail" href="{{ book.link }}" target="_blank">
                        <img class="img-thumbnail rounded" src="{{ book.image }}" alt="...">
                    </a>
                </div>
                {% endfor %}
            </div>
        </div>
    </section>

    <section id="keyword" class="light-bg">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-12 text-center">
                    <h2 class="section-heading">오늘은 무슨일이</h2>
                    <h3 class="section-subheading text-muted">매일매일의 뉴스를 요약하여 뽑은 키워드 입니다<br>키워드를 선택하면 관련 뉴스를 바로 볼 수 있어요</h3>
                </div>
            </div>
            <div class="row justify-content-around align-items-center section-contents keyword-date">
                <button type="button" class="btn btn-secondary keyword-date-button" value="yesterday">어제</button>
                <h5 id="keyword-date"></h5>
                <button type="button" class="btn btn-secondary keyword-date-button" value="tomorrow" id="keyword-tomorrow-button" disabled>내일</button>
            </div>
            <div id="keyword-body">
            </div>
        </div>
    </section>

    <!-- 키워드 모달뷰 -->
    <div id="keyword-modal" class="modal fade" role="dialog">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">키워드 뉴스 리스트</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div id="keyword-modal-body"></div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal" aria-label="Close">닫기</button>
                </div>
            </div>
        </div>
    </div>

    <section id="press">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-12 text-center">
                    <h2 class="section-heading">언론</h2>
                    <h3 class="section-subheading text-muted">최근 30일간 언론 언급으로 보는 대선후보 이슈정도</h3>
                    <select id="press-select" class="col-6 form-control mx-auto" title="언론사 선택">
                        <option value="all">모든언론사</option>
                        <option value="asiae">아시아경제</option>
                        <option value="chosun">조선일보</option>
                        <option value="donga">동아일보</option>
                        <option value="edaily">이데일리</option>
                        <option value="hani">한겨레</option>
                        <option value="heraldcorp">헤럴드경제</option>
                        <option value="ichannela">채널A</option>
                        <option value="joins">중앙일보</option>
                        <option value="jtbc">JTBC</option>
                        <option value="kbs">KBS</option>
                        <option value="khan">경향신문</option>
                        <option value="kmib">국민일보</option>
                        <option value="mbc">MBC</option>
                        <option value="mbn">MBN</option>
                        <option value="mk">매일경제</option>
                        <option value="mt">머니투데이</option>
                        <option value="munhwa">문화일보</option>
                        <option value="news1">뉴스1</option>
                        <option value="newsis">뉴시스</option>
                        <option value="ohmynews">오마이뉴스</option>
                        <option value="sbs">SBS</option>
                        <option value="sedaily">서울경제</option>
                        <option value="segye">세계일보</option>
                        <option value="seoul">서울신문</option>
                        <option value="sisain">시사인</option>
                        <option value="tvchosun">TV조선</option>
                        <option value="yonhap">연합뉴스</option>
                        <option value="ytn">YTN</option>
                    </select>
                </div>
            </div>
            <div class="row section-contents">
                <div class="col-md-6 text-center">
                    <h4>언론 언급 점유율</h4>
                    <div id="press-chart-pie"></div>
                </div>
                <div class="col-md-6 text-center">
                    <h4>언론 언급 횟수</h4>
                    <div id="press-chart-line"></div>
                </div>
            </div>
        </div>
    </section>

    <button id="test" class="btn btn-info">테스트</button>
</body>

<footer class="light-bg">
    <div class="container-fluid">
        <div class="row justify-content-center">
            <div class="col-12 col-md-4 mx-auto">
                <span class="copyright">Copyright &copy; 2017daesun.com 2017</span>
            </div>
            <div class="col-12 col-md-4 mx-auto">
                <ul class="list-inline social-buttons">
                    <li class="list-inline-item"><a href="https://twitter.com/intent/tweet?text=2017대선닷컴&url=https://2017daesun.com"><i class="fa fa-twitter"></i></a></li>
                    <li class="list-inline-item"><a href="https://www.facebook.com/sharer/sharer.php?u=2017daesun.com" target="_blank"><i class="fa fa-facebook"></i></a></li>
                </ul>
            </div>
            <div class="col-12 col-md-4 mx-auto">
                <ul class="list-inline quicklinks">
                    <li class="list-inline-item"><a href="{% url 'terms' %}" target="_blank">이용약관</a></li>
                    <li class="list-inline-item"><a href="mailto:kimkkikki1@gmail.com">개발자에게 의견보내기</a></li>
                </ul>
            </div>
        </div>
    </div>
</footer>

<script type="text/javascript">
    function waitMe(element) {
        element.waitMe({
            effect : 'facebook',
            text : '로딩 중입니다',
            bg : 'rgba(255,255,255,0.7)',
            color : '#000',
            maxSize : '',
            textPos : 'vertical',
            fontSize : '',
            source : ''
        });
    }
</script>

<!-- Jquery -->
<script type="text/javascript" src="{% static 'lib/jquery/dist/jquery.min.js' %}"></script>
<script type="text/javascript" src="{% static 'lib/jquery-ui/jquery-ui.min.js' %}"></script>

<!-- Bootstrap JS -->
<script type="text/javascript" src="{% static 'js/tether.min.js' %}"></script>
<script type="text/javascript" src="{% static 'js/bootstrap.min.js' %}"></script>

<!-- Library -->
<script type="text/javascript" src="{% static 'js/waitMe.min.js' %}"></script>
<script type="text/javascript" src="{% static 'lib/vis/dist/vis.js' %}"></script>
<script type="text/javascript" src="{% static 'lib/d3/d3.min.js' %}"></script>
<script type="text/javascript" src="{% static 'lib/c3/c3.min.js' %}"></script>
<script type="text/javascript" src="{% static 'js/main/jquery.waypoints.js' %}"></script>
<script type="text/javascript" src="{% static 'js/main/aos.js' %}"></script>
<script type="text/javascript" src="{% static 'js/main/js.cookie.js' %}"></script>
<script src="https://www.gstatic.com/firebasejs/3.7.8/firebase.js"></script>

<script type="text/javascript" src="{% static 'js/main/daesun-initial.js' %}"></script>
<script type="text/javascript" src="{% static 'js/love-test.js' %}"></script>
<script type="text/javascript" src="{% static 'js/main/pledge.js' %}"></script>
<script type="text/javascript" src="{% static 'js/main/rating.js' %}"></script>
<script type="text/javascript" src="{% static 'js/main/press.js' %}"></script>
<script type="text/javascript" src="{% static 'js/main/keyword.js' %}"></script>

<script type="text/javascript">
    var countRef = firebase.database().ref('count/moon');
    var count = null;
    countRef.on('value', function(snapshot) {
        console.log(snapshot.val());
        count = snapshot.val();
    });
    $('#test').click(function () {
        if (count !== null) {
            count++;
            countRef.set(count);
        }
    });
</script>

</html>
