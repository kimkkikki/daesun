{% load staticfiles %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <title>2017 대선닷컴</title>

    <!-- Font CSS -->
    <link rel="stylesheet" href="{% static 'css/font-awesome.min.css' %}" type="text/css">
    <link rel='stylesheet' href="{% static 'css/nanumbarungothic.css' %}" type='text/css'>
    <link rel='stylesheet' href='https://fonts.googleapis.com/earlyaccess/nanumpenscript.css' type='text/css'>

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="{% static 'css/bootstrap.min.css' %}">

    <!-- Library CSS -->
    <link rel="stylesheet" href="{% static 'css/waitMe.min.css' %}">
    <link rel="stylesheet" href="{% static 'css/aos.css' %}">
    <link rel="stylesheet" href="{% static 'lib/vis/dist/vis.min.css' %}">
    <link rel="stylesheet" href="{% static 'lib/c3/c3.min.css' %}">
    <link rel="stylesheet" href="{% static 'css/fullcalendar.min.css'%}">
    <link rel="stylesheet" href="{% static 'css/fullcalendar.print.min.css'%}" media='print'>
    <link rel="stylesheet" href="{% static 'css/jquery.slotmachine.min.css'%}">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="{% static 'css/main.css' %}">
</head>

<body id="page-top" data-spy="scroll" data-target=".navbar">
    <nav class="navbar navbar-toggleable-md navbar-light bg-faded fixed-top">
        <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbar-collapse" aria-controls="navbar-collapse" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <a class="navbar-brand" href="#page-top">2017대선닷컴</a>

        <div class="collapse navbar-collapse" id="navbar-collapse">
            <ul class="navbar-nav ml-auto">
                <li class="nav-item">
                    <a class="nav-link" href="#rating">지지율 </a>
                </li>
                 <li class="nav-item">
                    <a class="nav-link" href="#pledge">공약</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#lucky">럭키박스</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#press">언론</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#cheering">응원메세지</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#donate">기부하기</a>
                </li>
            </ul>
        </div>
    </nav>

    <header>
        <div class="container-fluid">
            <div class="intro-text">
                <div class="intro-lead-in">대한민국을 책임질 대통령</div>
                <div class="intro-heading">당신은 누구를 고르시습니까?</div>
                <div class="intro-guide">2017대선닷컴은 특정 후보를 지지하지 않습니다.<br>본 사이트의 모든 콘텐츠는 오직 <strong>재미</strong>를 위해 만들어 졌습니다.</div>
            </div>
        </div>
    </header>

    <div role="toolbar">
        <div class="btn-group special" role="group">
            <button id="calendar-button-1" type="button" class="btn btn-secondary btn-schedule" data-toggle="modal" data-target="#calendar-modal">3.10<br>예비후보자 등록</button>
            <button id="calendar-button-2" type="button" class="btn btn-secondary btn-schedule" data-toggle="modal" data-target="#calendar-modal">4.15 ~ 16<br>후보자 등록</button>
            <button id="calendar-button-3" type="button" class="btn btn-secondary btn-schedule" data-toggle="modal" data-target="#calendar-modal">4.25 ~ 30<br>재외투표소 투표</button>
            <button id="calendar-button-4" type="button" class="btn btn-secondary btn-schedule" data-toggle="modal" data-target="#calendar-modal">5.4 ~ 5<br>사전투표소 투표</button>
            <button id="calendar-button-5" type="button" class="btn btn-secondary btn-schedule" data-toggle="modal" data-target="#calendar-modal">5.9<br>대통령선거</button>
        </div>
    </div>

    <!-- Calendar Modal -->
    <div id="calendar-modal" class="modal fade" role="dialog">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title text-center">대선 주요 일정</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div id="calendar"></div>
                </div>
            </div>
        </div>
    </div>

    <section id="rating" class="light-bg">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-12 text-center">
                    <h2 class="section-heading">누가누가 잘하나</h2>
                    <h3 class="section-subheading text-muted">여론조사결과로 보는 대선 지지율 결과와<br>2017 대선닷컴의 럭키박스 결과를 기반으로 한 운빨 결과를 보여드립니다</h3>
                </div>
            </div>
            <div class="row justify-content-center">
                <div class="btn-group mx-auto" data-toggle="buttons">
                    <label class="btn btn-outline-success active">
                        <input type="radio" name="rating-radio" autocomplete="off" value="real" checked>여론조사
                    </label>
                    <label class="btn btn-outline-danger">
                        <input type="radio" name="rating-radio" autocomplete="off" value="lucky">우주의기운
                    </label>
                </div>
            </div>
            <div id="rating-template" class="row section-contents">
                {% include 'rating.html' %}
            </div>
            <div class="col col-12">
                <p class="text-center" id="rating-description">리얼미터가 조사한 여론조사 결과입니다. 자세한 내용은 리얼미터 홈페이지를 참고하세요</p>
                <button id="rating-graph-button" class="btn btn-info btn-block" data-toggle="modal" data-target="#rating-modal">그래프 보기</button>
            </div>
        </div>
    </section>

    <!-- Rating Modal -->
    <div id="rating-modal" class="modal fade" role="dialog">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <!--<h5 class="modal-title text-center">여론조사 지지율 차트</h5>-->
                    <div class="btn-group mx-auto" data-toggle="buttons">
                        <label class="btn btn-outline-info active">
                            <input type="radio" name="rating-graph-radio" autocomplete="off" value="all" checked>전체
                        </label>
                        <label class="btn btn-outline-success">
                            <input type="radio" name="rating-graph-radio" autocomplete="off" value="realmeter">리얼미터
                        </label>
                        <label class="btn btn-outline-primary">
                            <input type="radio" name="rating-graph-radio" autocomplete="off" value="gallup">한국갤럽
                        </label>
                    </div>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div id="ratingChart"></div>
                    <p class="text-center">리얼미터와 한국갤럽의 여론조사 결과를 재구성한 것입니다.<br>출처: 리얼미터, 한국갤럽</p>
                </div>
            </div>
        </div>
    </div>

    <section id="pledge">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-12 text-center">
                    <h2 class="section-heading">공약 이상형</h2>
                    <h3 class="section-subheading text-muted">대선공약을 평가하고 자신에게 맞는 후보를 찾으세요</h3>
                </div>
            </div>
            <div class="row justify-content-center section-contents">
                <div class="mx-auto">
                    <button id="pledge-test-start-button" class="btn btn-primary">시작하기</button>
                    <button id="pledge-rank-button" class="btn btn-secondary">랭킹보기</button>
                </div>
            </div>
        </div>
    </section>

    <!-- 공약 이상형 모달 -->
    <div id="pledge-test-modal" class="modal fade" role="dialog">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title text-center">공약 이상형</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div id="pledge-test" class="modal-body">
                    <div class="jumbotron justify-content-center blind-test">
                        <p id="pledge-test-count" class="pull-right"></p>
                        <h4 id="pledge-test-title" class="text-center"></h4>
                        <p id="pledge-test-contents" class="text-center"></p>
                    </div>
                    <div class="row justify-content-center">
                        <div class="mx-auto">
                            <div class="btn-group" role="group" aria-label="공약 이상형 버튼">
                                <button id="pledge-test-button-1" type="button" class="btn btn-success" value="1">좋아요</button>
                                <button id="pledge-test-button-2" type="button" class="btn btn-danger" value="-1">싫어요</button>
                                <button id="pledge-test-button-3" type="button" class="btn btn-secondary" value="0">몰라요</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="pledge-result-modal" class="modal fade" role="dialog">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title text-center">공약 이상형 결과</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div id="pledge-result"></div>
                    <div class="row justify-content-center">
                        <button type="button" class="btn btn-success" data-dismiss="modal" aria-label="Close">다시하기</button>
                        <button type="button" class="btn btn-danger">공유하기</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Pledge Rank Modal -->
    {% include 'pledge_rank_modal.html' %}

    <section id="slot" class="light-bg">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-12 text-center">
                    <h2 class="section-heading">돌려돌려 대선 돌림판</h2>
                    <h3 class="section-subheading text-muted">누구 뽑을지 도저히 모르겠다 돌려보자(1%의 확률)</h3>
                </div>
            </div>
            <div class="row justify-content-center section-contents">
                <div class="col-4" data-aos="fade-right">
                    <div id="slot-machine-1" class="randomizeMachine text-center">
                        <img class="img-fluid rounded" src="{% static 'img/candidate/moon.jpg' %}"/>
                        <img class="img-fluid rounded" src="{% static 'img/candidate/ahn1.jpg' %}"/>
                        <img class="img-fluid rounded" src="{% static 'img/candidate/ahn2.jpg' %}"/>
                        <img class="img-fluid rounded" src="{% static 'img/candidate/hong.jpg' %}"/>
                        <img class="img-fluid rounded" src="{% static 'img/candidate/lee.jpg' %}"/>
                        <img class="img-fluid rounded" src="{% static 'img/candidate/nam.jpg' %}"/>
                        <img class="img-fluid rounded" src="{% static 'img/candidate/sim.jpg' %}"/>
                        <img class="img-fluid rounded" src="{% static 'img/candidate/son.jpg' %}"/>
                        <img class="img-fluid rounded" src="{% static 'img/candidate/you.jpg' %}"/>
                    </div>
                </div>
                <div class="col-4" data-aos="fade-up" data-aos-delay="250">
                    <div id="slot-machine-2" class="randomizeMachine text-center">
                        <img class="img-fluid rounded" src="{% static 'img/candidate/moon.jpg' %}"/>
                        <img class="img-fluid rounded" src="{% static 'img/candidate/ahn1.jpg' %}"/>
                        <img class="img-fluid rounded" src="{% static 'img/candidate/ahn2.jpg' %}"/>
                        <img class="img-fluid rounded" src="{% static 'img/candidate/hong.jpg' %}"/>
                        <img class="img-fluid rounded" src="{% static 'img/candidate/lee.jpg' %}"/>
                        <img class="img-fluid rounded" src="{% static 'img/candidate/nam.jpg' %}"/>
                        <img class="img-fluid rounded" src="{% static 'img/candidate/sim.jpg' %}"/>
                        <img class="img-fluid rounded" src="{% static 'img/candidate/son.jpg' %}"/>
                        <img class="img-fluid rounded" src="{% static 'img/candidate/you.jpg' %}"/>
                    </div>
                </div>
                <div class="col-4" data-aos="fade-left" data-aos-delay="500">
                    <div id="slot-machine-3" class="randomizeMachine text-center">
                        <img class="img-fluid rounded" src="{% static 'img/candidate/moon.jpg' %}"/>
                        <img class="img-fluid rounded" src="{% static 'img/candidate/ahn1.jpg' %}"/>
                        <img class="img-fluid rounded" src="{% static 'img/candidate/ahn2.jpg' %}"/>
                        <img class="img-fluid rounded" src="{% static 'img/candidate/hong.jpg' %}"/>
                        <img class="img-fluid rounded" src="{% static 'img/candidate/lee.jpg' %}"/>
                        <img class="img-fluid rounded" src="{% static 'img/candidate/nam.jpg' %}"/>
                        <img class="img-fluid rounded" src="{% static 'img/candidate/sim.jpg' %}"/>
                        <img class="img-fluid rounded" src="{% static 'img/candidate/son.jpg' %}"/>
                        <img class="img-fluid rounded" src="{% static 'img/candidate/you.jpg' %}"/>
                    </div>
                </div>
            </div>
            <div id="slot-machine-count" class="row justify-content-center" data-toggle="tooltip" data-placement="bottom" title="아까비.. 다시 돌릴래요?"></div>
            <div class="row justify-content-center">
                <div class="mx-auto">
                    <button id="slot-start" type="button" class="btn btn-secondary">돌려돌려!</button>
                    <button id="slot-honor-button" class="btn btn-secondary">명예의 전당</button>
                </div>
            </div>
        </div>
    </section>

    <!-- 슬롯 결과 모달뷰 -->
    <div id="slot-modal" class="modal fade" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title text-center">축하합니다</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div id="slot-modal-body" class="modal-body">
                    <div id="slot-result" class="row justify-content-center text-center">
                        <!--TODO 여기에 슬롯결과 표시됨-->
                    </div>
                    <div class="row justify-content-center text-center">
                        <div class="mx-auto">
                            <button id="slot-share" class="btn btn-primary">공유하고 명예의전당 등록</button>
                            <button id="slot-share-facebook" class="btn btn-primary">페이스북</button>
                            <button class="btn btn-secondary" data-dismiss="modal">다시 도전하기</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 명예의 전당 모달뷰 -->
    <div id="slot-honor-modal" class="modal fade" role="dialog">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title text-center">명예의 전당</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div id="slot-honor-result">
                    </div>
                </div>
            </div>
        </div>
    </div>

    <section id="lucky">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-12 text-center">
                    <h2 class="section-heading">럭키박스</h2>
                    <h3 class="section-subheading text-muted">후보자를 고르는 가장 재밌는 방법</h3>
                </div>
            </div>
            <div class="row justify-content-center section-contents">
                <div class="col-12 col-md-6 text-center lucky-box">
                    <h3>이름점</h3>
                    <p>자음모음 획수로 보는 후보자와의 궁합</p>
                    <div class="input-group">
                        <input type="text" id="inputUserName" class="form-control" placeholder="내 이름 입력" maxlength="4">
                        <span class="input-group-btn">
                            <button type="button" class="btn btn-primary" id='buttonUserName' data-toggle="modal" data-target="#lucky-name-modal">확인</button>
                        </span>
                    </div>
                </div>
                <div class="col-12 col-md-6 text-center lucky-box">
                    <h3>별자리점</h3>
                    <p>로맨틱한 밤하늘로 알아보는 궁합</p>
                    <div class="input-group justify-content-center">
                        <div class="input-group-btn">
                            <button id="constellation-month" type="button" class="btn btn-secondary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">몇월</button>
                            <div class="dropdown-menu">
                                {% for i in "xxxxxxxxxxxx" %}
                                <button class="dropdown-item constellation-month" value="{{ forloop.counter }}">{{ forloop.counter }}월</button>
                                {% endfor %}
                            </div>
                        </div>
                        <div class="input-group-addon">
                            &nbsp;
                        </div>
                        <div class="input-group-btn">
                            <button id="constellation-day" type="button" class="btn btn-secondary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">몇일</button>
                            <div class="dropdown-menu">
                                {% for i in "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx" %}
                                <button class="dropdown-item constellation-day" value="{{ forloop.counter }}">{{ forloop.counter }}일</button>
                                {% endfor %}
                            </div>
                        </div>
                        <span class="input-group-btn">
                            <button id="constellation-button" type="button" class="btn btn-primary">확인</button>
                        </span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- 이름점 모달뷰 -->
    <div id="lucky-name-modal" class="modal fade" role="dialog">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">이름점 결과</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div id="lucky-name-result" class="row text-center" style="background-color:#ffffff">
                        <!--TODO 여기에 이름점 결과 표시됨-->
                    </div>
                <div class="modal-footer">
                    <a id="kakao-link-btn">
                        <img src="//dev.kakao.com/assets/img/about/logos/kakaolink/kakaolink_btn_medium.png"/>
                    </a>
                    <img id="img-out"/>
                </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 별자리점 모달뷰 -->
    <div id="constellation-modal" class="modal fade" role="dialog">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">별자리 궁합 결과</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div id="constellation-result"></div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary">공유하기</button>
                </div>
            </div>
        </div>
    </div>

    <section id="press" class="light-bg">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-12 text-center">
                    <h2 class="section-heading">언론</h2>
                    <h3 class="section-subheading text-muted">최근 30일간 언론 언급으로 보는 대선후보 이슈정도</h3>
                    <select id="press-select" class="col-6 form-control mx-auto" title="언론사 선택">
                        <option value="all">모든언론사</option>
                        <option value="asiae">아시아경제</option>
                        <option value="chosun">조선일보</option>
                        <option value="donga">동아일보</option>
                        <option value="edaily">이데일리</option>
                        <option value="hani">한겨레</option>
                        <option value="heraldcorp">헤럴드경제</option>
                        <option value="ichannela">채널A</option>
                        <option value="joins">중앙일보</option>
                        <option value="jtbc">JTBC</option>
                        <option value="kbs">KBS</option>
                        <option value="khan">경향신문</option>
                        <option value="kmib">국민일보</option>
                        <option value="mbc">MBC</option>
                        <option value="mbn">MBN</option>
                        <option value="mk">매일경제</option>
                        <option value="mt">머니투데이</option>
                        <option value="munhwa">문화일보</option>
                        <option value="news1">뉴스1</option>
                        <option value="newsis">뉴시스</option>
                        <option value="ohmynews">오마이뉴스</option>
                        <option value="sbs">SBS</option>
                        <option value="sedaily">서울경제</option>
                        <option value="segye">세계일보</option>
                        <option value="seoul">서울신문</option>
                        <option value="sisain">시사인</option>
                        <option value="tvchosun">TV조선</option>
                        <option value="yonhap">연합뉴스</option>
                        <option value="ytn">YTN</option>
                    </select>
                </div>
            </div>
            <div class="row section-contents">
                <div class="col-md-6 text-center">
                    <h4>언론 언급 점유율</h4>
                    <div id="press-chart-pie"></div>
                </div>
                <div class="col-md-6 text-center">
                    <h4>언론 언급 횟수</h4>
                    <div id="press-chart-line"></div>
                </div>
            </div>
        </div>
    </section>

    <section id="keyword">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-12 text-center">
                    <h2 class="section-heading">데일리 뉴스 요약</h2>
                    <h3 class="section-subheading text-muted">매일매일의 뉴스를 요약하여 뽑은 키워드 입니다<br>키워드를 선택하면 관련 뉴스를 바로 볼 수 있어요</h3>
                </div>
            </div>
            <div class="row justify-content-around align-items-center section-contents keyword-date">
                <button type="button" class="btn btn-secondary keyword-date-button" value="yesterday">어제</button>
                <h5 id="keyword-date"></h5>
                <button type="button" class="btn btn-secondary keyword-date-button" value="tomorrow" id="keyword-tomorrow-button" disabled>내일</button>
            </div>
            <div id="keyword-body">
            </div>
        </div>
    </section>

    <!-- 키워드 모달뷰 -->
    <div id="keyword-modal" class="modal fade" role="dialog">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">키워드 뉴스 리스트</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div id="keyword-modal-body"></div>
                </div>
            </div>
        </div>
    </div>

    <section id="cheering" class="light-bg">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-12 text-center">
                    <h2 class="section-heading">대선주자 응원하기</h2>
                    <h3 class="section-subheading text-muted">대선 주자들에게 응원메시지를 남기는 공간입니다</h3>
                </div>
            </div>
            <div class="input-group justify-content-center">
                <div class="input-group-btn">
                    <button id="cheering-candidate-button" type="button" class="btn btn-secondary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">대선후보</button>
                    <div class="dropdown-menu">
                        <button class="dropdown-item cheering-candidate-select" value="문재인">문재인</button>
                        <button class="dropdown-item cheering-candidate-select" value="안희정">안희정</button>
                        <button class="dropdown-item cheering-candidate-select" value="안철수">안철수</button>
                        <button class="dropdown-item cheering-candidate-select" value="남경필">남경필</button>
                        <button class="dropdown-item cheering-candidate-select" value="유승민">유승민</button>
                        <button class="dropdown-item cheering-candidate-select" value="이재명">이재명</button>
                        <button class="dropdown-item cheering-candidate-select" value="심상정">심상정</button>
                        <button class="dropdown-item cheering-candidate-select" value="홍준표">홍준표</button>
                    </div>
                </div>
                <input class="form-control" type="text" id="cheering-message" title="메세지">
                <span class="input-group-btn">
                    <button class="btn btn-secondary" type="button" id="post-cheering">등록</button>
                </span>
            </div>
            <div class="row section-contents">
                <table class="table table-hover">
                    <thead>
                        <tr class="row m-0">
                            <th class="col-2">응원후보</th>
                            <th class="col-6 col-md-8">응원메세지</th>
                            <th class="col-4 col-md-2">작성자</th>
                        </tr>
                    </thead>
                    <tbody id="cheering-table">
                        {% include 'cheering_table.html' %}
                    </tbody>
                    <tfoot>
                        <tr><td colspan="4"><button id="cheering-more" class="btn btn-secondary btn-block">응원메세지 더보기</button></td></tr>
                    </tfoot>
                </table>
            </div>
        </div>
    </section>

    <section id="donate">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-12 text-center">
                    <h2 class="section-heading">기부하기</h2>
                    <h3 class="section-subheading text-muted">대선후보/대선닷컴에 기부하세요</h3>
                </div>
            </div>
            <div class="row section-contents">
                <table class="table table-hover">
                    <thead>
                        <tr>
                            <th>후원 대상</th>
                            <th>후원 계좌</th>
                            <th>예금주</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>문재인</td>
                            <td>우리은행 1006-901-451607</td>
                            <td>문재인후원회</td>
                        </tr>
                        <tr>
                            <td>안희정</td>
                            <td>농협 301-0206-6146-11</td>
                            <td>김태영</td>
                        </tr>
                        <tr>
                            <td>이재명</td>
                            <td>농협 302-0207-1611-11</td>
                            <td>이재명후원회</td>
                        </tr>
                        <tr>
                            <td>대선닷컴</td>
                            <td>우리은행 계좌개설해야지</td>
                            <td>대선닷컴</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </section>

    <section id="labs" class="light-bg">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-12 text-center">
                    <h2 class="section-heading">대선닷컴 연구소</h2>
                    <h3 class="section-subheading text-muted">만들다만 기능들을 보고싶다면 클릭하세요</h3>
                </div>
            </div>
            <div class="row justify-content-center section-contents">
                <a href="{% url 'labs' %}" id="labs-button" class="btn btn-info mx-auto" target="_blank">기타 등등 기능 보러가기</a>
            </div>
        </div>
    </section>

    <footer>
        <div class="container-fluid">
            <div class="row justify-content-center">
                <div class="col-12 col-md-4 mx-auto">
                    <span class="copyright">Copyright &copy; 2017daesun.com 2017</span>
                </div>
                <div class="col-12 col-md-4 mx-auto">
                    <ul class="list-inline social-buttons">
                        <li class="list-inline-item"><a href="https://twitter.com/intent/tweet?text=2017대선닷컴&url=2017daesun.com" target="_blank"><i class="fa fa-twitter"></i></a></li>
                        <li class="list-inline-item"><a href="https://www.facebook.com/sharer/sharer.php?u=2017daesun.com" target="_blank"><i class="fa fa-facebook"></i></a></li>
                    </ul>
                </div>
                <div class="col-12 col-md-4 mx-auto">
                    <ul class="list-inline quicklinks">
                        <li class="list-inline-item"><a href="{% url 'terms' %}" target="_blank">이용약관</a></li>
                        <li class="list-inline-item"><a href="mailto:kimkkikki1@gmail.com">개발자에게 의견보내기</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </footer>
</body>

<!-- Jquery -->
<script type="text/javascript" src="{% static 'lib/jquery/dist/jquery.min.js' %}"></script>
<script type="text/javascript" src="{% static 'lib/jquery-ui/jquery-ui.min.js' %}"></script>

<!-- Bootstrap JS -->
<script type="text/javascript" src="{% static 'js/tether.min.js' %}"></script>
<script type="text/javascript" src="{% static 'js/bootstrap.min.js' %}"></script>

<!-- Library -->
<script type="text/javascript" src="{% static 'js/waitMe.min.js' %}"></script>
<script type="text/javascript" src="{% static 'lib/vis/dist/vis.min.js'%}"></script>
<script type="text/javascript" src="{% static 'lib/d3/d3.min.js' %}"></script>
<script type="text/javascript" src="{% static 'lib/c3/c3.min.js' %}"></script>
<script type="text/javascript" src="{% static 'lib/moment/min/moment.min.js' %}"></script>
<script type="text/javascript" src="{% static 'js/fullcalendar.min.js'%}"></script>
<script type="text/javascript" src="{% static 'js/locale-all.js'%}"></script>
<script type="text/javascript" src="{% static 'js/main/jquery.slotmachine.min.js'%}"></script>
<script type="text/javascript" src="{% static 'js/main/aos.js' %}"></script>
<script type="text/javascript" src="{% static 'js/main/js.cookie.js' %}"></script>
<script type="text/javascript" src="{% static 'js/main/jquery.waypoints.js' %}"></script>
<script type="text/javascript" src="{% static 'js/html2canvas.js' %}"></script>
<script type="text/javascript" src="{% static 'js/Canvas2Image.js' %}"></script>
<script type="text/javascript" src="{% static 'js/kakao.min.js' %}"></script>

<!-- Custom JS -->
<script type="text/javascript" src="{% static 'js/main/daesun-initial.js' %}"></script>
<script type="text/javascript" src="{% static 'js/main/rating.js' %}"></script>
<script type="text/javascript" src="{% static 'js/main/constellation.js' %}"></script>
<script type="text/javascript" src="{% static 'js/main/press.js' %}"></script>
<script type="text/javascript" src="{% static 'js/main/cheering.js' %}"></script>
<script type="text/javascript" src="{% static 'js/lucky-name-test.js' %}"></script>
<script type="text/javascript" src="{% static 'js/main/keyword.js' %}"></script>

<script type="text/javascript">
    var isLoadPledgeRank = false;
    $('#pledge-rank-button').click(function () {
        if (!isLoadPledgeRank) {
            waitMe($('#pledge'));
            $.ajax({
                url: '/pledge?type=rank',
                headers: {
                    'Content-Type':'application/json'
                },
                type: 'GET',
                success: function(data) {
                    $('#pledge-rank').html(data);
                    $('#pledge-rank-modal').modal('show');
                    $('#pledge').waitMe('hide');
                    isLoadPledgeRank = true;
                },
                error: function(data, status, err) {
                    console.log(err);
                    $('#pledge').waitMe('hide');
                }
            });
        } else {
            $('#pledge-rank-modal').modal('show');
        }
    });

    var blindResult;
    var blindToken;
    var blindList;
    var blindLoopIndex;

    $('#pledge-test-start-button').click(function () {
        console.log('pledge start');
        waitMe($('#pledge'));
        $.ajax({
            url: '/apis/pledge',
            headers: {
                'Content-Type':'application/json'
            },
            dataType: 'json',
            cache: false,
            type: 'GET',
            success: function(data) {
                blindResult = [];
                blindToken = data.token;
                blindList = data.list;
                blindLoopIndex = 1;

                $('#pledge-test-title').html(blindList[0].title);
                $('#pledge-test-contents').html(blindList[0].contents);
                $('#pledge-test-count').html('1/' + blindList.length);
                $('#pledge').waitMe('hide');
                $('#pledge-test-modal').modal('show');
            },
            error: function(data, status, err) {
                console.log(err);
                $('#pledge').waitMe('hide');
            }
        });
    });

    $('#pledge-test-button-1, #pledge-test-button-2, #pledge-test-button-3').click(function () {
        if (blindLoopIndex < 10) {
            $('#pledge-test-title').html(blindList[blindLoopIndex].title);
            $('#pledge-test-contents').html(blindList[blindLoopIndex].contents);
            $('#pledge-test-count').html((blindLoopIndex + 1) + '/' + blindList.length);
            blindLoopIndex += 1;
            blindResult.push(this.value);
        } else {
            waitMe($('#pledge-test-modal'));
            blindLoopIndex += 1;
            blindResult.push(this.value);

            console.log(blindResult);
            $.ajax({
                    url: '/pledge',
                    cache: false,
                    headers: {
                        'Content-Type':'application/json'
                    },
                    async: true,
                    type: 'POST',
                    data: JSON.stringify({
                        'token': blindToken,
                        'list': blindResult
                    }),
                    success: function(data) {
                        var testModal = $('#pledge-test-modal');
                        testModal.waitMe('hide');
                        testModal.modal('hide');
                        $('#pledge-result').html(data);
                        $('#pledge-result-modal').modal('show');
                    },
                    error: function(data, status, err) {
                        $('#pledge-test-modal').waitMe('hide');
                        console.log(err);
                    }
                });
        }
    });
</script>

<script type="text/javascript">
    $('#slot-share-facebook').click(function () {
        console.log('slot-share candidate : ' + slot_result_candidate + ', count : ' + slot_result_count);

        waitMe($('#slot-modal'));
        html2canvas($('#slot-modal-body'), {
            onrendered: function (canvas) {
                var image = canvas.toDataURL("image/jpeg");
                $.ajax({
                    url:'/apis/upload',
                    headers: {
                        'Content-Type':'application/json'
                    },
                    data: JSON.stringify({
                        'image': image
                    }),
                    type:'POST',
                    success:function(data){
                        console.log(data);
                        $('#slot-modal').waitMe('hide');
                        FB.ui({
                            method: 'share',
                            picture : data,
                            href: 'http://2017daesun.com'
                        }, function(response){
                            console.log(response);
                        });
                    },
                    error: function(data, status, err) {
                        $('#slot-modal').waitMe('hide');
                        console.log(err);
                    }
                });
            }
        });
    });
</script>

<script type="text/javascript">
    //TODO: 슬롯머신
    var slot_candidates = ['문재인', '안철수', '안희정', '홍준표', '이재명', '남경필', '심상정', '손학규', '유승민'];
    var slot_count = 0;
    var slot_result_count;
    var slot_result_candidate;
    var machine1 = $("#slot-machine-1").slotMachine({
					active	: Math.floor(Math.random() * 10),
					delay	: 500
				});
    var machine2 = $("#slot-machine-2").slotMachine({
					active	: Math.floor(Math.random() * 10),
					delay	: 500
				});
    var machine3 = $("#slot-machine-3").slotMachine({
					active	: Math.floor(Math.random() * 10),
					delay	: 500
				});

    var result_1, result_2, result_3;
    function onComplete(active){
        switch(this.element[0].id){
            case 'slot-machine-1':
                result_1 = active;
                break;
            case 'slot-machine-2':
                result_2 = active;
                break;
            case 'slot-machine-3':
                slot_count++;
                $('#slot-machine-count').html('#' + slot_count);
                result_3 = active;

                if (result_1 == result_2 && result_2 == result_3) {
                    waitMe($('#slot'));
                    slot_result_candidate = slot_candidates[result_1];
                    slot_result_count = slot_count;
                    $.ajax({
                            url: '/slot',
                            headers: {
                                'Content-Type':'application/json'
                            },
                            async: true,
                            type: 'POST',
                            data: JSON.stringify({
                                'type': 'slot',
                                'candidate': slot_candidates[result_1],
                                'count': slot_count
                            }),
                            success: function(data) {
                                $('#slot-result').html(data);
                                $('#slot-modal').modal('show');
                                //TODO 슬롯 카운트 초기화 언제?
                                slot_count = 0;
                                $('#slot').waitMe('hide');
                            },
                            error: function(data, status, err) {
                                console.log(err);
                                $('#slot').waitMe('hide');
                            }
                        });
                } else {
                    $('#slot-machine-count').tooltip('show');
                }
                break;
        }
    }

	$('#slot-start').click(function(){
        machine1.shuffle(5, onComplete);
        machine2.shuffle(10, onComplete);
        machine3.shuffle(15, onComplete);
        $('#slot-machine-count').tooltip('hide');
	});

    $('#slot-honor-button').click(function () {
        waitMe($('#slot'));
        $.ajax({
                url: '/slot/honor',
                headers: {
                    'Content-Type':'application/json'
                },
                async: true,
                type: 'GET',
                success: function(data) {
                    $('#slot-honor-result').html(data);
                    $('#slot-honor-modal').modal('show');
                    $('#slot').waitMe('hide');
                },
                error: function(data, status, err) {
                    console.log(err);
                    $('#slot').waitMe('hide');
                }
            });

    });
</script>

<script type="text/javascript">
    var isCalendarLoad = false;
    $('#calendar-button-1, #calendar-button-2, #calendar-button-3, #calendar-button-4, #calendar-button-5').click(function () {
        if (!isCalendarLoad) {
            waitMe($('#calendar-modal'));
            var today = new Date();
            var dd = today.getDate();
            var mm = today.getMonth()+1; //January is 0!
            var yyyy = today.getFullYear();

            if(dd<10) {
                dd='0'+dd
            }
            if(mm<10) {
                mm='0'+mm
            }

            $.ajax({
                    url: "/apis/sns",
                    headers: {
                        'Content-Type':'application/json'
                    },
                    async: true,
                    type: 'GET',
                    dataType: 'json',
                    success: function(data) {
                        $('#calendar').fullCalendar({
                            header: {
                                left: 'prev,next',
                                right: 'listDay, listWeek, month'
                            },
                            views: {
                                listDay: { buttonText: '일간' },
                                listWeek: { buttonText: '주간' },
                                month: { buttonText: '월간' }
                            },
                            locale : 'ko',
                            defaultView: 'listDay',
                            defaultDate: yyyy + '-' + mm + '-' + dd,
                            navLinks: true, // can click day/week names to navigate views
                            editable: true,
                            eventLimit: true, // allow "more" link when too many events
                            events: data,
                            eventOrder: "start"
                        });
                        $('#calendar-modal').waitMe('hide');
                        isCalendarLoad = true;
                    },
                    error: function(data, status, err) {
                        console.log(err);
                        $('#calendar-modal').waitMe('hide');
                    }
            });
        }
    });
</script>

</html>